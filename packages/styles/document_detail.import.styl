.document-detail-container
  position fixed
  top $header-height
  bottom 0
  left 0
  right 0
  z-index $mid-layer
  .loading
    loading(false)
    position absolute
    top 100px
    transform translate(-50%, 0)
    left 50%

.annotations-selected-container
  background alpha($background-primary, 55%)
  padding 10px 10px 10px 10px
  position relative
  top -10px

.no-results
  padding 0 15px
  text-align center
  color $m-gray
  i
    font-size 250%
    color lighten($m-gray,10%)
    margin-bottom 10px

.overlapping
  position fixed
  top $header-height + 2
  left 22.5%
  right 22.5%
  z-index $top-layer
  padding 18px 5% 10px 5%
  background-color alpha($deny, 95%)
  color white
  text-align center
  min-height 65px
  @extend .dark-shadow
  p
  i
    display inline-block
    vertical-align middle
  p
    margin 0
  i
    font-size 1.5em

.finished-annotating
  centerVertically()
  right 20px

.completion-code
  color $d-gray
  span
    color darken($secondary, 10%)
    letter-spacing .05em

.document-container
  width 55%
  left 22.5%
  padding 75px 0 0 0
  line-height 1.75em
  border $border
  border-bottom 0
  border-top 0

.document-title
  width 80%

.help-link-document
  font-size 1.5em
  position absolute
  right 15px
  centerVertically()

.document-body
  max-width 900px
  margin 20px 5%

.document-wrapper
  position relative

  pre
    white-space pre-wrap
    word-wrap break-word
    word-break break-word

  .document-annotations
    position absolute
    color transparent
    line-height 1.6em
    font-size 1em
    top 0
    z-index -1
    text-shadow none
    pre
      color transparent

  pre
    background none
    border 0
    padding 0
    text-align left
    line-height 1.6em
    body-font()
    font-size 1em
    &::selection
      background-color $selection-color
      color $body-text

  > pre
      position absolute

.annotation-container
  right 0
  .annotations
    position relative
    margin-right 15px
    li
      position relative
      max-height 300px
      margin-bottom 10px
      border-top-right-radius 3px
      border-bottom-right-radius 3px
      background-color $l-gray
      border 2px solid $m-gray
      border-left 0
      pointer()
      shadow(255,.2)
      &.deleting
        transition(all, .8s)
        max-height 0
        opacity 0
        margin-bottom -4px
        overflow hidden
        .fa
          opacity 0
    .header
      font-weight 400
    .sub-header
      font-weight 600
    .keyword
      font-weight 800
    .btn-delete
      position absolute
      top 2px
      right 6px
      font-size 1.4em
    .code
      display block
      padding 25px 35px 25px 15px
      truncateString(false)
    .user
      position absolute
      bottom 5px
      right 5px
      font-size .8em
      color alpha($body-color, 90%)

    for $color, $index in $annotation-colors
      .annotation-color-{$index+1}
        background-color $color
        border-color $color
        &.selected
          border 2px solid darken($color, 40%)
          &::before
            position absolute
            top 2px
            left 15px
            content '\f06e'
            color darken($color, 30%)
            @extend .icon
        &.not-selected
          opacity .7
          background-color $color
          &:hover
            opacity 1
            background-color $color
        &.selected
        &:hover
          border-left 0
        &:hover
          background-color lighten(@background-color, 25%)
          .btn-delete
          .toggle-flag
            visibility visible
        .btn-delete
        .toggle-flag
          transition(color, .2s)
        .btn-delete
          color darken($color, 20%)
          visibility hidden
          &:hover
            color darken(@color, 50%)
        .toggle-flag
          position absolute
          z-index $bottom-layer
          bottom 5px
          left 15px
          color darken($color, 40%)
          visibility hidden
          &.flagged
            visibility visible
            color darken($color, 30%)
            transition(color, .2s)
          &:hover
            color darken($color, 80%)

.annotation-highlight
  border-top 2px #FFF solid
  border-bottom 2px #FFF solid

for $color, $index in $annotation-colors
  .annotation-highlight-{$index+1}
    background-color alpha($color, 60%)
    border-radius 2px
    transition(background, .2s, ease-in-out)
    &.highlighted
      background-color alpha($color, 85%)
    &.not-highlighted
      background-color alpha($color, 25%)

.annotation-highlight-temporary
  background-color $selection-color
  border-radius 2px
  padding 2px 0
