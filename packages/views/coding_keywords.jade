template(name="codingKeywords")
  .code-search-container
    input.code-search.form-control(type="text" placeholder="Search Code Keywords")
  .coding-container
    ul.list-unstyled.code-list(class=action)
      if selectedCodes
        .clear-codes-container
          button.btn.btn-block.btn-default.btn-sm.clear-selected-codes Clear Selected Codes
      if Template.subscriptionsReady
        unless filtering
          if coding
            each headers
              li.code-header.coding.highlighted.selectable(class='code-header-#{color}')
                i.up
                span.selectable-code(data-id=_id class="{{highlightHeading}}")
                  span.icon.fa(class=icon)
                  span.header-name= header
                ul.code-sub-headers.coding.list-unstyled
                  each subHeaders header
                    li.code-sub-header.selectable
                      i.down
                      span.selectable-code(data-id=_id)= subHeader
                      ul.code-keywords.list-unstyled.hidden
                        each keywords subHeader
                          li.code-keyword.coding.selectable
                            span.selectable-code(data-id=_id)= keyword
          else
            each headers
              li.code-header.listing(class="code-header-#{color} {{selectable _id 'heading'}}" )
                i.up
                span(data-id=_id class="{{selectable _id 'code'}} {{selected}}")
                  span.icon.fa(class=icon)
                  span.header-name= header
                ul.code-sub-headers.list-unstyled
                  each subHeaders header
                    li.code-sub-header.listing(class="{{selectable _id 'heading'}}")
                      i.up
                      span(data-id=_id class="{{selectable _id 'code' }} {{selected}}")= subHeader
                      ul.code-keywords.list-unstyled
                        each keywords subHeader
                          li.code-keyword.listing(class="{{selectable _id 'heading'}}")
                            span(data-id=_id class="{{selectable _id 'code'}} {{selected}}")= keyword
        else
          ul.filteredCodes.list-unstyled
            each filteredCodes
              li.filter-result(class="code-#{color} {{selectable _id 'heading'}}")
                span(data-id=_id class="{{selectable _id 'code'}}  {{selected}}")=code
            else
              .no-results
                i.fa.fa-search
                p Sorry, no codes found
      else
        .loading
