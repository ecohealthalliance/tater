template(name="documentList")
  .view-header-search.document-filtration
    .document-sorting
      .btn-group
        button.btn.btn-default.current-sorting(data-sort-by=sortByColumn data-title=sortByTitle)
          if sortDirection 1
            i.fa.fa-caret-down
          else
            i.fa.fa-caret-up
          span= sortByTitle
        button.btn.btn-default.dropdown-toggle(type="button" class="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
          span.caret
          span.sr-only Toggle Dropdown

        ul.dropdown-menu.document-sorting-options
          li
            if sortBy 'lowerTitle' 1
              i.fa.fa-caret-down
            if sortBy 'lowerTitle' -1
              i.fa.fa-caret-up
            span.column(data-sort-by='lowerTitle' data-title='Title') Title
          li
            if sortBy 'createdAt' 1
              i.fa.fa-caret-down
            if sortBy 'createdAt' -1
              i.fa.fa-caret-up
            span.column(data-sort-by='createdAt' data-title='Date Created') Date Created
          li
            if sortBy 'annotated' 1
              i.fa.fa-caret-down
            if sortBy 'annotated' -1
              i.fa.fa-caret-up
            span.column(data-sort-by='annotated' data-title='Number of Annotations') Number of Annotations
          li
            if sortBy 'groupName' 1
              i.fa.fa-caret-down
            if sortBy 'groupName' -1
              i.fa.fa-caret-up
            span.column(data-sort-by='groupName' data-title='Document Group') Document Group
    .form-group.document-search-wrap
      i.fa.fa-search
      input.form-control.document-search(placeholder="Search Documents")

  .document-list-container
    if Template.subscriptionsReady
      if noDocumentsFound
        .no-results.space-top-3
          i.fa.fa-search
          .no-documents-found.centered Sorry, no documents found.
      else
        ul.list.document-list.list-unstyled
          each documents
            +document
        with pages
          +documentListPages
    else
      .loading
  +deleteDocumentModal

template(name="document")
  li.document
    a.list-link.clearfix(href="{{path route='documentDetail' params=this}}")
      div.annotation-state
        if annotated
          i.fa.fa-adjust(data-toggle='tooltip' title='{{annotated}} annotations')
        else
          i.fa.fa-circle-o(data-toggle='tooltip' title='{{annotated}} annotations')
      span.document-title= title
      span.document-group= groupName
    button.btn-plain.delete-document-button(data-toggle="modal" data-document-id=_id data-target="#confirm-delete-document-modal" )
      i.fa.fa-trash-o

template(name="documentListPages")
  .pagination-cont(style="text-align:center")
    ul.pagination
      li
        a(href="#page-1") «
      each this
        li(class="{{#if active}}active{{/if}}")
          a(href="#page-{{number}}")= number
      li
        a(href="#page-1") »
