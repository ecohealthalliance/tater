template(name="documentList")
  .view-header-search
    .form-group
      i.fa.fa-search
      input.form-control.document-search(placeholder="Search Documents")
  .document-list-container
    if Template.subscriptionsReady
      if noDocumentsFound
        .no-results.space-top-3
          i.fa.fa-search
          .no-documents-found.centered Sorry, no documents found.
      else
        div.headers
          span
            if sortBy 'lowerTitle' 1
              i.fa.fa-caret-down
            if sortBy 'lowerTitle' -1
              i.fa.fa-caret-up
            h4(data-sort-by='lowerTitle') Title
          span
            if sortBy 'createdAt' 1
              i.fa.fa-caret-down
            if sortBy 'createdAt' -1
              i.fa.fa-caret-up
            h4(data-sort-by='createdAt') Date Created
          span
            if sortBy 'annotated' 1
              i.fa.fa-caret-down
            if sortBy 'annotated' -1
              i.fa.fa-caret-up
            h4(data-sort-by='annotated') Number of Annotations
          span
            if sortBy 'groupName' 1
              i.fa.fa-caret-down
            if sortBy 'groupName' -1
              i.fa.fa-caret-up
            h4(data-sort-by='groupName') Document Group
        ul.list.document-list.list-unstyled
          each documents
            +document
        with pages
          +documentListPages
    else
      .loading
  +deleteDocumentModal

template(name="document")
  li.document
    a.list-link.clearfix(href="{{path route='documentDetail' params=this}}")
      div.annotation-state
        if annotated
          i.fa.fa-adjust(data-toggle='tooltip' title='{{annotated}} annotations')
        else
          i.fa.fa-circle-o(data-toggle='tooltip' title='{{annotated}} annotations')
      span.document-title= title
      span.document-group= groupName
    button.btn-plain.delete-document-button(data-toggle="modal" data-document-id=_id data-target="#confirm-delete-document-modal" )
      i.fa.fa-trash-o

template(name="documentListPages")
  .pagination-cont(style="text-align:center")
    ul.pagination
      li
        a(href="#page-1") «
      each this
        li(class="{{#if active}}active{{/if}}")
          a(href="#page-{{number}}")= number
      li
        a(href="#page-1") »
