template(name="header")
  header
    nav.navbar
      .container-fluid
        .navbar-header
          a.navbar-brand.pull-left(href="/")
            h1 Tater
          if currentUser
            button.navbar-toggle.collapsed.pull-right(type="button", data-toggle="collapse" data-target=".navbar-collapse") Menu
          else
            a.sign-in.btn.navbar-btn
              span Sign In
                i.fa.fa-sign-in
        if currentUser
          .navbar-collapse.collapse
            ul.nav.navbar-nav.navbar-left
              li
                a.btn.navbar-btn.new-document(href="{{path route='newDocument'}}")
                  i.fa.fa-file-text-o.icon-left
                  span New Document
            ul.nav.navbar-nav.navbar-right
              if isAdmin
                li
                  a.header-documents-link(href="{{path route='documents'}}" class="{{isActiveRoute 'documents'}}")
                    span Documents
              else
                li
                  a.header-documents-link(href="{{path route='groupDocuments' params=documentsLinkParams}}" class="{{isActiveRoute 'groupDocuments'}}")
                    span Documents
              li
                a(href="{{path route='annotations'}}" class="{{isActiveRoute 'annotations'}}")
                  span Annotations
              if isAdmin
                li
                  a(href="{{path route='admin'}}" class="{{isActiveRoute 'admin'}}")
                    span Admin
                li
                  a(href="{{path route='codingKeywords'}}" class="{{isActiveRoute 'codingKeywords'}}")
                    span Coding Keywords
              +accountsHeaderButtons state=accountsState
              li
                a(href="{{path route='help'}}" class="{{isActiveRoute 'help'}}" title='Help')
                  i.fa.fa-question-circle

  +accountsModal state=accountsState
